alias bool = i32;

const true  := cast(bool) 1;
const false := cast(bool) 0;

fun exit(code: i32);
fun puts(str: i8*): i32;

fun strlen(str: i8*): i32;

fun assert(condition: bool, message: string) {
    if (!condition) {
        puts(cast(i8*) message.data);
        exit(1);
    }
}

fun __atcc_init_globals();

fun __atcc_start(argc: i32, argv: i8**): i32 {
    __atcc_init_globals();

    args: string[*];
    args.length = argc;

    for (i := 0; i < argc; i += 1) {
        args[i].data = argv[i];
        args[i].length = strlen(argv[i]);
    }

    return Main(args);
}
